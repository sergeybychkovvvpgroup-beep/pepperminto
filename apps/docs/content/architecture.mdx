# Architecture

Pepperminto is a monorepo with multiple Next.js frontends and a Fastify API.

## Services

- **API** (`apps/api`): Fastify + Prisma for data access and auth.
- **Admin dashboard** (`apps/client`): internal UI for tickets, users, and settings.
- **Knowledge base** (`apps/knowledge-base`): public read-only KB site.
- **Docs** (`apps/docs`): Nextra-based documentation.
- **Landing** (`apps/landing`): marketing site.

## Request flow

1. The client/knowledge-base apps call `/api/v1/*`.
2. The API validates JWT tokens for protected routes.
3. Prisma handles database access and returns typed models.
4. The UI renders data with shadcn components and BlockNote.

## Auth model

- Email/password via the API.
- Optional OIDC provider support.
- Admin-only routes are protected by permissions and roles.

## Knowledge Base model

KB entries include title, slug, tags, author, body, and published state. The admin UI manages content while the public UI only shows published articles.
